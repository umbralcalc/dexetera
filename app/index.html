<!DOCTYPE html>
<html>
<head>
    <title>Wasm Loop</title>
</head>
<body>
    <script src="wasm_exec.js"></script>
    <script>
        const go = new Go();
        WebAssembly.instantiateStreaming(fetch("example_sim.wasm"), go.importObject).then(result => {
            go.run(result.instance);
            
            // JavaScript callback function
            function handleData(data) {
                console.log("Data from Go:", data);
                // Process the data as needed
            }
            
            // Call the exported Go function
            loop(handleData);
        });
    </script>
</body>
</html>